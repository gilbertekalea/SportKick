{% extends 'base.html' %} {% block title %} {% endblock %} {% block content %}

<body>
  <div class="container">
    <div class="row">
      <!-- Dashboard for users -->
      <div class="col-lg-4 col-md-6 col-sm-12" style="margin-top: 30px">
        <div class="card shadow-lg p-3 mb-5 bg-body rounded">
          <ul
            class="list-group list-group-flush"
            style="font-family: 'Merriweather', serif"
          >
            <li class="list-group-item mb-2">DASHBOARD</li>
            <li class="list-group-item mb-2">
              <a href="#personal-data">
              PERSONAL INFORMATION
            </a></li>
            <li class="list-group-item mb-2">PRIVACY AND SECURITY</li>
            <li class="list-group-item mb-2">PAYMENTS</li>
          </ul>
        </div>
      </div>

    <!-- User profile information -->
    <section id="personal-data">
      <div class="col-lg-8 col-md-6 col-sm-12 g-3" style="border-right: 1px solid rgba(0, 0, 0, 0.36); margin-top: 20px">
        <div class="mb-3">
          <h3 class="font-weight-bolder text-info" style="color: black">
            EDIT INFORMATION
          </h3>
          <button type="button" class="btn btn-outline-secondary" id="btns">
            Edit My Data
          </button>
        </div>
        <form method="POST" class="form-rigister">
          {{user_profile.hidden_tag()}}
          <div
            class="mb-3 shadow-sm bg-body rounded"
            style="margin-right: 85%; border: 1px solid rgba(0, 0, 0, 0.442)"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-user"
            >
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
          <br />
          <div class="row ms-3">
            <h3 class="text-info">ACCOUNT INFORMATION</h3>
          </div>
          {% if current_user.is_authenticated %}
          <input
            id="current_username"
            name="username"
            type="hidden"
            value="{{current_user.username}}"
          />
          <fieldset disabled id="fieldset">
            <div class="row ms-3">
              <div class="col-lg-5 mb-3">
                {{user_profile.id.label(class="form-label")}}
                {{user_profile.id(class="form-control", autocomplete='off',
                placeholder='Indentity',value=current_user.id)}}
              </div>
              <div class="col-lg-5 mb-3">
                {{user_profile.username.label(class="form-label")}}
                {{user_profile.username(class="form-control",autocomplete='off',placeholder='User
                Name', value=current_user.username)}}
              </div>
            </div>
            <div class="row ms-3">
              <div class="col-lg-5 mb-3">
                {{user_profile.first_name.label(class="form-label")}}
                {{user_profile.first_name(class="form-control",autocomplete='off',placeholder='Team
                Name', value=current_user.first_name)}}
              </div>
              <div class="col-lg-5 mb-3">
                {{user_profile.last_name.label(class="form-label")}}
                {{user_profile.last_name(class="form-control",autocomplete='off',placeholder='Team
                Name', value=current_user.last_name)}}
              </div>
            </div>
            <div class="row ms-3">
              <div class="col-lg-5 mb-3">
                {{user_profile.email.label(class="form-label")}}
                {{user_profile.email(class="form-control",
                value=current_user.email)}}
              </div>
              <div class="col-lg-5 mb-3">
                {{user_profile.date_of_birth.label(class="form-label")}}
                {{user_profile.date_of_birth(class="form-control",
                value=current_user.date_of_birth)}}
              </div>
            </div>
            <div class="row ms-3">
              <div class="col-lg-4 mb-3">
                {{user_profile.team.label(class="form-label")}}
                {{user_profile.team(class="form-control", value=team.name)}}
              </div>
              <div class="col-lg-4 mb-3">
                {{user_profile.sport.label(class="form-label")}}
                {{user_profile.sport(class="form-control",
                value=sport.sports_registered)}}
              </div>
              <div class="col-lg-4 mb-3">
                {{user_profile.skill.label(class="form-label")}}
                {{user_profile.skill(class="form-control",
                value=sport.skills_level)}}
              </div>
            </div>
            <div class="row ms-3">
              <div class="mb-3">
                {{user_profile.post.label(class="form-label")}}
                {{user_profile.post(class="form-control", value=post)}}
              </div>
            </div>
          </fieldset>
          {% endif %}
        </form>
      </div>
    </section>
    <!-- User personal data ends -->
    </div>

  </div>
  <hr />




  <section id="recent-blogs">
    <div class="container">
      <h4>Blogs You have created.</h4>
      <div class="row row-cols-1 row-cols-md-2 g-4">
        {% if current_user.is_authenticated %} {% for item in blogs %}
        <div class="col">
          <div class="card shadow-sm p-3 mb-3 bg-body rounded h-100">
            <div class="card-body">
              <h5 class="card-title font-weight-bold">{{item.post_title}}</h5>
              <h6 class="card-subtitle mb-2 text-primary">
                {{item.date_created[:16]}}, Author:
                <span style="color: rgb(255, 0, 221)"
                  >{{current_user.first_name}}
                </span>
              </h6>
              <p class="card-text">{{item.post_content}}</p>
              <!-- heart icon for likes.  -->
              <p>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-heart"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"
                  />
                </svg>
                <span id="likes-item-{{item.id}}">{{item.likes_count}}</span>
              </p>
            </div>
          </div>
        </div>
        {% endfor %} {% endif %}
      </div>
    </div>
  </section>
  <style>
    svg {
      cursor: pointer;
    }
  </style>
</body>
{% endblock %}
